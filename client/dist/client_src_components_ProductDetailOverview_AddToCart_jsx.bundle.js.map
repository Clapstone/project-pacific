{"version":3,"file":"client_src_components_ProductDetailOverview_AddToCart_jsx.bundle.js","mappings":"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","sources":["webpack://project-pacific/./node_modules/@mui/icons-material/ShoppingCartRounded.js","webpack://project-pacific/./client/src/components/ProductDetailOverview/AddToCart.jsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 3c0 .55.45 1 1 1h1l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h11c.55 0 1-.45 1-1s-.45-1-1-1H7l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.67-1.43c-.16-.35-.52-.57-.9-.57H2c-.55 0-1 .45-1 1zm16 15c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z\"\n}), 'ShoppingCartRounded');\n\nexports.default = _default;","import React, { useState } from 'react';\n\n// MUI components\nimport Button from '@mui/material/Button';\nimport ShoppingCartRoundedIcon from '@mui/icons-material/ShoppingCartRounded';\nimport InputLabel from '@mui/material/InputLabel';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport MenuItem from '@mui/material/MenuItem';\nimport Grid from '@mui/material/Grid';\n\nconst axios = require('axios');\n\nexport default function AddToCart({style}) {\n  const skus = style.skus;\n  const skuList = Object.keys(skus).map(skuId => ({\n    id: skuId,\n    quantity: skus[skuId].quantity,\n    size: skus[skuId].size,\n  }));\n  const [sku, setSku] = React.useState('');\n  const [size, setSize] = React.useState('');\n  const [qty, setQty] = React.useState('');\n  const [open, setOpen] = React.useState(false);\n  const [OOS, setOOS] = React.useState(false);\n\n  /* Event Handlers */\n  const handleSizeChange = (e) => {\n    setSize(e.target.value);\n  };\n\n  const handleSizeClick = (e, sku) => {\n    setSku(sku);\n  };\n\n  const handleQtyChange = (e) => {\n    setQty(e.target.value);\n  };\n\n  /* On Click of Aadd to cart button */\n  const handleButtonClick = (e) => {\n    e.preventDefault();\n    if (sku && qty) {\n      setOpen(false);\n      axios\n        .post(`/api/cart/${sku.id}`)\n        .then(res => console.log(`Success! ${res}`))\n        .catch(err => console.error(err));\n    } else {\n      setOpen(true);\n    }\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  /* Size Dropdown */\n  const renderSizeDropdown = () => {\n    const availableSkus = skuList.filter(sku => sku.quantity > 0);\n    if (availableSkus.length === 0) {\n      setOOS(true);\n    }\n\n    if (!OOS) {\n      return !OOS ? (\n        <FormControl sx={{ m: 1, minWidth: 140 }}>\n          <InputLabel id=\"demo-simple-select-label\">Select Size</InputLabel>\n          <Select\n            labelId=\"demo-controlled-open-select-label\"\n            id=\"demo-controlled-open-select\"\n            open={open}\n            onClose={handleClose}\n            onOpen={handleOpen}\n            value={size}\n            onChange={handleSizeChange}\n          >\n            <MenuItem value=\"\" disabled>\n              <em>Select Size</em>\n            </MenuItem>\n            {availableSkus.map((sku, i) => (\n              <MenuItem\n                key={i}\n                value={sku.size}\n                onClick={(e) => handleSizeClick(e, sku)}\n              >\n                {sku.size}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      ) : (\n        <FormControl sx={{ m: 1, minWidth: 140 }}>\n          <InputLabel id=\"demo-simple-select-label\">Select Size</InputLabel>\n          <Select\n            labelId=\"demo-controlled-open-select-label\"\n            id=\"demo-controlled-open-select\"\n            value={size}\n            onChange={handleSizeChange}\n          >\n            <MenuItem disabled value=\"\">\n              <em>OOS</em>\n            </MenuItem>\n          </Select>\n        </FormControl>\n      );\n    }\n  };\n\n  /* Size Dropdown */\n  const renderQtyDropdown = () => {\n    if (sku !== '') {\n      const max = (sku.quantity < 15) ? sku.quantity : 15;\n      const range = [];\n      for (let i = 1; i <= max; i++) {\n        range.push(i);\n      }\n      return (\n        <FormControl sx={{ m: 1, width: 200 }}>\n          <InputLabel id=\"demo-simple-select-label\">Select Qty</InputLabel>\n          <Select\n            labelId=\"demo-controlled-open-select-label\"\n            id=\"demo-controlled-open-select\"\n            value={qty}\n            onChange={handleQtyChange}\n          >\n           {range.map((num, i) => (\n            <MenuItem\n              key={i}\n              value={num}\n            >\n              {num}\n            </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      );\n    } else {\n      return (\n        <FormControl sx={{ m: 1, width: 120 }}>\n          <InputLabel id=\"demo-simple-select-label\">Select Qty</InputLabel>\n          <Select\n            labelId=\"demo-controlled-open-select-label\"\n            id=\"demo-controlled-open-select\"\n            value={qty}\n            onChange={handleQtyChange}\n          >\n            <MenuItem disabled value=\"\">\n              <em>-</em>\n            </MenuItem>\n          </Select>\n        </FormControl>\n      );\n    }\n  };\n\n  /* Add to Cart Button */\n  const renderCartButton = () => {\n    return ( !OOS ?\n      <div data-testid=\"addToCartButton\">\n        <Button\n          variant=\"contained\"\n          size=\"large\"\n          color=\"inherit\"\n          onClick={handleButtonClick}\n          startIcon={<ShoppingCartRoundedIcon />}\n          sx={{ mx: 1, my: 2 }}\n        >\n          Add to Cart\n        </Button>\n      </div> : null)\n  };\n\n  return (\n    <div className=\"add-to-cart-form\" data-testid=\"addToCart\">\n      {open ? <p>Please select a size</p> : <p />}\n      {renderSizeDropdown()}\n      {renderQtyDropdown()}\n      {renderCartButton()}\n    </div>\n  )\n};"],"names":["React","useState","Button","ShoppingCartRoundedIcon","InputLabel","FormControl","Select","MenuItem","Grid","axios","require","AddToCart","style","skus","skuList","Object","keys","map","skuId","id","quantity","size","sku","setSku","setSize","qty","setQty","open","setOpen","OOS","setOOS","handleSizeChange","e","target","value","handleSizeClick","handleQtyChange","handleButtonClick","preventDefault","post","then","res","console","log","err","error","handleOpen","handleClose","renderSizeDropdown","availableSkus","filter","length","m","minWidth","i","renderQtyDropdown","max","range","push","width","num","renderCartButton","mx","my"],"sourceRoot":""}